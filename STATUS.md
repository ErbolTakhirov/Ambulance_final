# üöÄ –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∏ —á—Ç–æ –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å

## üìä –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å (–∏–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞):

### ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. ‚úÖ –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –Ω–∞ http://127.0.0.1:8000/
2. ‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è (GET / HTTP/1.1 200)
3. ‚úÖ –¢—Ä–∞—Ñ–∏–∫ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è (~458KB –¥–∞–Ω–Ω—ã—Ö, ~1000 —É–ª–∏—Ü)
4. ‚è≥ –ò–¥–µ—Ç —Ä–∞—Å—á–µ—Ç –º–∞—Ä—à—Ä—É—Ç–∞...

### üîÑ –ü—Ä–æ—Ü–µ—Å—Å —Ä–∞—Å—á–µ—Ç–∞ –º–∞—Ä—à—Ä—É—Ç–∞:

```
Requesting OSRM (attempt 1/2): http://router.project-osrm.org/...
‚ùå OSRM Connection Error: Read timed out (30 —Å–µ–∫)

Requesting OSRM (attempt 2/2): http://router.project-osrm.org/...
‚ùå OSRM Connection Error: Read timed out (30 —Å–µ–∫)

Requesting OSRM (attempt 1/2): https://routing.openstreetmap.de/...
‚ùå OSRM Connection Error: SSL Error

Requesting OSRM (attempt 2/2): https://routing.openstreetmap.de/...
‚è≥ –û–∂–∏–¥–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞...
```

## ‚è±Ô∏è –°–∫–æ–ª—å–∫–æ –∂–¥–∞—Ç—å:

- **OSRM –ø–æ–ø—ã—Ç–∫–∏:** 3 —Å–µ—Ä–≤–µ—Ä–∞ √ó 2 –ø–æ–ø—ã—Ç–∫–∏ √ó 30 —Å–µ–∫ = –¥–æ 3 –º–∏–Ω—É—Ç
- **GraphHopper:** –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç—Å—è (–Ω–µ—Ç API –∫–ª—é—á–∞)
- **A* Fallback:** –º–≥–Ω–æ–≤–µ–Ω–Ω–æ

**–ò–¢–û–ì–û:** –ú–∞–∫—Å–∏–º—É–º 3 –º–∏–Ω—É—Ç—ã, –ø–æ—Ç–æ–º —Å—Ä–∞–±–æ—Ç–∞–µ—Ç A* fallback

## üéØ –ß—Ç–æ –≤—ã –î–û–õ–ñ–ù–´ —É–≤–∏–¥–µ—Ç—å –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –ø–æ—Å–ª–µ –≤—Å–µ—Ö –ø–æ–ø—ã—Ç–æ–∫:

```bash
OSRM Connection Error on https://router.project-osrm.org/...
Requesting OSRM (attempt 2/2): https://router.project-osrm.org/...
OSRM Connection Error on https://router.project-osrm.org/...
Routing failed, trying alternatives: All OSRM servers failed after 2 retries...
GraphHopper API key not configured, skipping

Building route using A* on 1007 streets    ‚Üê –í–û–¢ –≠–¢–û –í–ê–ñ–ù–û!
A* route found with 23 points              ‚Üê –ò –≠–¢–û!

[15/Dec/2025 07:XX:XX] "POST /api/routes/calculate/ HTTP/1.1" 200 XXX
```

## üó∫Ô∏è –ß—Ç–æ –≤—ã —É–≤–∏–¥–∏—Ç–µ –Ω–∞ –∫–∞—Ä—Ç–µ:

### –î–û (—Å—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è):
```
–ë–æ–ª—å–Ω–∏—Ü–∞ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ> –ü—É–Ω–∫—Ç –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è
          (–ø—Ä—è–º–∞—è —Å–∏–Ω—è—è –ª–∏–Ω–∏—è)
```

### –ü–û–°–õ–ï (–Ω–æ–≤–∞—è –≤–µ—Ä—Å–∏—è —Å A*):
```
–ë–æ–ª—å–Ω–∏—Ü–∞ ‚îÄ‚îê
          ‚îÇ
          ‚îú‚îÄ‚îÄ> –£–ª–∏—Ü–∞ 1
          ‚îÇ
          ‚îú‚îÄ‚îÄ> –£–ª–∏—Ü–∞ 2
          ‚îÇ
          ‚îú‚îÄ‚îÄ> –£–ª–∏—Ü–∞ 3
          ‚îÇ
          ‚îî‚îÄ‚îÄ> –ü—É–Ω–∫—Ç –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è
     (—Å–∏–Ω—è—è –ª–∏–Ω–∏—è –∏–¥–µ—Ç –ø–æ —É–ª–∏—Ü–∞–º!)
```

## üîç –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ A* —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. **–í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ** –∏—â–∏—Ç–µ —Å—Ç—Ä–æ–∫–∏:
   - `Building route using A* on XXX streets`
   - `A* route found with XX points`

2. **–ù–∞ –∫–∞—Ä—Ç–µ** —Å–∏–Ω—è—è –ª–∏–Ω–∏—è –¥–æ–ª–∂–Ω–∞:
   - ‚úÖ –°–ª–µ–¥–æ–≤–∞—Ç—å –ø–æ —É–ª–∏—Ü–∞–º (–∑–µ–ª–µ–Ω—ã–º/–∂–µ–ª—Ç—ã–º/–∫—Ä–∞—Å–Ω—ã–º –ª–∏–Ω–∏—è–º)
   - ‚úÖ –î–µ–ª–∞—Ç—å –ø–æ–≤–æ—Ä–æ—Ç—ã
   - ‚úÖ –ù–ï –∏–¥—Ç–∏ –Ω–∞–ø—Ä—è–º–∏–∫ —á–µ—Ä–µ–∑ –∫–≤–∞—Ä—Ç–∞–ª—ã

3. **–í –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –º–∞—Ä—à—Ä—É—Ç–µ**:
   - –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –±–æ–ª—å—à–µ —á–µ–º –ø–æ –ø—Ä—è–º–æ–π
   - –í—Ä–µ–º—è —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–æ —Å —É—á–µ—Ç–æ–º —Ä–µ–∞–ª—å–Ω–æ–≥–æ –ø—É—Ç–∏
   - –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: "OSRM unavailable, using A* street routing"

## üö® –ï—Å–ª–∏ –º–∞—Ä—à—Ä—É—Ç –≤—Å–µ –µ—â–µ –ø–æ –ø—Ä—è–º–æ–π:

### –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:
1. **A* –Ω–µ –Ω–∞—à–µ–ª –ø—É—Ç—å** - —É–ª–∏—Ü—ã –Ω–µ —Å–≤—è–∑–∞–Ω—ã –≤ –≥—Ä–∞—Ñ
2. **–û—à–∏–±–∫–∞ –≤ A* –∫–æ–¥–µ** - —Å–º–æ—Ç—Ä–∏—Ç–µ traceback –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
3. **–ö—ç—à –±—Ä–∞—É–∑–µ—Ä–∞** - –Ω–∞–∂–º–∏—Ç–µ Ctrl+F5 –¥–ª—è –∂–µ—Å—Ç–∫–æ–π –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏

### –†–µ—à–µ–Ω–∏–µ:
```bash
# 1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä (Ctrl+C)
# 2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ
python manage.py runserver

# 3. –û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä –≤ —Ä–µ–∂–∏–º–µ –∏–Ω–∫–æ–≥–Ω–∏—Ç–æ
# 4. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ http://127.0.0.1:8000/
# 5. –ü–æ—Å—Ç—Ä–æ–π—Ç–µ –º–∞—Ä—à—Ä—É—Ç
```

## üìà –û–∂–∏–¥–∞–µ–º—ã–µ –º–µ—Ç—Ä–∏–∫–∏:

### –î–ª—è –º–∞—Ä—à—Ä—É—Ç–∞ ~3-5 –∫–º –≤ –ë–∏—à–∫–µ–∫–µ:

| –ú–µ—Ç—Ä–∏–∫–∞ | –ü—Ä—è–º–∞—è –ª–∏–Ω–∏—è | A* –ø–æ —É–ª–∏—Ü–∞–º |
|---------|--------------|--------------|
| –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ | 3.2 –∫–º | 4.5-5.5 –∫–º |
| –í—Ä–µ–º—è | 6-7 –º–∏–Ω | 9-12 –º–∏–Ω |
| –¢–æ—á–µ–∫ –≤ –º–∞—Ä—à—Ä—É—Ç–µ | 2 | 15-50 |
| Confidence | 0% | 70% |
| Quality | unknown | good |

## üé¨ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ü–æ–¥–æ–∂–¥–∞—Ç—å A* (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- –ü—Ä–æ—Å—Ç–æ –∂–¥–∏—Ç–µ 2-3 –º–∏–Ω—É—Ç—ã
- –°–º–æ—Ç—Ä–∏—Ç–µ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª
- –ö–æ–≥–¥–∞ —É–≤–∏–¥–∏—Ç–µ "A* route found" - –≥–æ—Ç–æ–≤–æ!

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å GraphHopper (–±—ã—Å—Ç—Ä–µ–µ)
```python
# api/graphhopper_router.py, —Å—Ç—Ä–æ–∫–∞ 19
self.api_key = "–≤–∞—à_–∫–ª—é—á_—Å_graphhopper.com"
```
–¢–æ–≥–¥–∞ –º–∞—Ä—à—Ä—É—Ç—ã –±—É–¥—É—Ç —Å—Ç—Ä–æ–∏—Ç—å—Å—è –∑–∞ 1-3 —Å–µ–∫—É–Ω–¥—ã!

### –í–∞—Ä–∏–∞–Ω—Ç 3: –õ–æ–∫–∞–ª—å–Ω—ã–π OSRM (–¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞)
```bash
docker run -t -i -p 5000:5000 osrm/osrm-backend ...
```

## üí° –°–æ–≤–µ—Ç –¥–ª—è –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏:

–ï—Å–ª–∏ –Ω–∞ —Ö–∞–∫–∞—Ç–æ–Ω–µ –±—É–¥–µ—Ç –ø–ª–æ—Ö–æ–π –∏–Ω—Ç–µ—Ä–Ω–µ—Ç:
1. ‚úÖ A* fallback —Å—Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
2. ‚úÖ –ú–∞—Ä—à—Ä—É—Ç—ã –±—É–¥—É—Ç —Å—Ç—Ä–æ–∏—Ç—å—Å—è –ª–æ–∫–∞–ª—å–Ω–æ
3. ‚úÖ –ù–µ –Ω—É–∂–µ–Ω –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã!

–≠—Ç–æ **–ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ** –≤–∞—à–µ–≥–æ —Ä–µ—à–µ–Ω–∏—è!

---

**–¢–ï–ö–£–©–ò–ô –°–¢–ê–¢–£–°:** ‚è≥ –û–∂–∏–¥–∞–µ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è OSRM –ø–æ–ø—ã—Ç–æ–∫, –∑–∞—Ç–µ–º A* –ø–æ—Å—Ç—Ä–æ–∏—Ç –º–∞—Ä—à—Ä—É—Ç –ø–æ —É–ª–∏—Ü–∞–º!
